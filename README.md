# Руководство по установке и настройке ВК-бота "Найти двойника"

## 1. Настройка собственного репозитория (для клиента)

Это руководство поможет вам создать собственный репозиторий на основе предоставленного чистого кода.

1.  Создайте новый пустой репозиторий на GitHub (или другом предпочитаемом сервисе Git-хостинга). Важно, чтобы вы не инициализировали его с файлом README или лицензией.
2.  Откройте терминал или командную строку.
3.  Клонируйте ваш очищенный репозиторий:

    ```bash
    git clone https://github.com/granin/bot-vk-telegram-clean-for-pr.git
    ```

4.  Перейдите в клонированную директорию:

    ```bash
    cd bot-vk-telegram-clean-for-pr
    ```

5.  Удалите существующий Git-remote (который указывает на ваш репозиторий):

    ```bash
    git remote rm origin
    ```

6.  Добавьте ваш новый репозиторий как remote origin:

    ```bash
    git remote add origin <URL_НОВОГО_ПУСТОГО_РЕПОЗИТОРИЯ>
    ```

    (Вам нужно заменить `<URL_НОВОГО_ПУСТОГО_РЕПОЗИТОРИЯ>` на HTTPS или SSH URL пустого репозитория, который вы создали на шаге 1.)
7.  Загрузите код в ваш новый репозиторий:

    ```bash
    git push -u origin master
    ```

## 2. Предварительные требования

-   VPS сервер с Ubuntu 20.04 или новее.
-   Установленный Python 3.8+.

## 3. Установка

Вы можете установить бота одним из двух способов:

**Вариант 1: ZIP-архив (рекомендуется для начинающих)**

1.  Скачайте последнюю версию бота в виде ZIP-архива.
2.  Распакуйте архив на вашем сервере.
3.  Перейдите в директорию с ботом.

**Вариант 2: Git (для опытных пользователей)**

1.  **Клонируйте репозиторий:**

    ```bash
    git clone <URL_ВАШЕГО_РЕПОЗИТОРИЯ>.git
    cd <ИМЯ_ВАШЕЙ_ДИРЕКТОРИИ_С_БОТОМ>
    ```
    (Замените `<URL_ВАШЕГО_РЕПОЗИТОРИЯ>` на URL вашего нового репозитория, а `<ИМЯ_ВАШЕЙ_ДИРЕКТОРИИ_С_БОТОМ>` на имя директории, в которую вы клонировали репозиторий.)

2.  **Создайте и активируйте виртуальное окружение:**

    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

3.  **Установите зависимости:**

    ```bash
    pip install -r requirements.txt
    ```

## 4. Настройка `settings.toml`

1.  **Создайте файл `settings.toml`:**

    Скопируйте `settings.toml.example` в `settings.toml`.

2.  **Заполните `settings.toml`:**

    Откройте `settings.toml` и заполните все необходимые поля. Ниже приведено описание каждого поля.

    **[telegram]**

    *   `api_id`: Ваш API ID от Telegram.
    *   `api_hash`: Ваш API Hash от Telegram.
    *   `chat_name`: Имя чата для отправки уведомлений.

    **[vk]**

    *   `token`: Ваш токен от VK API.
    *   `group_id`: ID вашей группы ВКонтакте.
    *   `admins_list`: Список ID администраторов.

    **[paths]**

    *   `directory_input`: Директория для входящих файлов.
    *   `directory_output`: Директория для исходящих файлов.
    *   `PREMIUM_USERS_FILE`: Файл для хранения премиум пользователей.
    *   `driver_path`: Путь к chromedriver.

    **[messages]**

    *   Здесь вы можете настроить тексты всех сообщений, которые отправляет бот.

3.  **Проверьте настройки:**

    Запустите скрипт `verify_settings.py`, чтобы убедиться, что все настройки корректны:

    ```bash
    python3 verify_settings.py
    ```

## 5. Запуск

```bash
python3 main.py
```

## 6. Устранение неполадок

*   **Ошибка `toml.TomlDecodeError`:** Проверьте синтаксис вашего `settings.toml` файла. Убедитесь, что все строки в кавычках, а числа без кавычек.
*   **Бот не отвечает:** Проверьте, что вы правильно указали токен и ID группы в `settings.toml`. Убедитесь, что бот запущен и не выдает ошибок в консоли.